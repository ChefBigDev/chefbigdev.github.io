const cWidth=200,cHeight=100,particle_amount=7,c=document.getElementById("sParticles");c.width=cWidth,c.height=cHeight;const ctx=c.getContext("2d"),particles=[];class Particle{constructor(t){this.id=t,this.getPos(),this.size=this.getSize(),this.color=this.getColor(),this.speed=this.getSpeed(),this.setEndPoint()}getSpeed(){return Math.floor(20*Math.random())+10}getPos(){switch(Math.floor(4*Math.random())+1){case 1:this.posX=Math.floor(Math.random()*cWidth)+2,this.posY=2;break;case 2:this.posX=Math.floor(Math.random()*cWidth)+2,this.posY=cHeight-2;break;case 3:this.posX=2,this.posY=Math.floor(Math.random()*cHeight)+2;break;case 4:this.posX=cWidth-2,this.posY=Math.floor(Math.random()*cHeight)+2}}getSize(){return Math.floor(3*Math.random())+1}getColor(){const t=["#F1F1F1","#FFFFFF","#F5F5F5"];return t[Math.floor(Math.random()*t.length)]}setEndPoint(){switch(this.end_direction=Math.floor(4*Math.random())+1,this.end_direction){case 1:this.path={posX:Math.floor(Math.random()*cWidth),posY:0};break;case 2:this.path={posX:Math.floor(Math.random()*cWidth),posY:cHeight};break;case 3:this.path={posX:0,posY:Math.floor(Math.random()*cHeight)};break;case 4:this.path={posX:cWidth,posY:Math.floor(Math.random()*cHeight)}}this.incX=Math.abs(this.posX-this.path.posX)/this.speed/60,this.incY=Math.abs(this.posY-this.path.posY)/this.speed/60}setNextPos(){this.posX>this.path.posX?this.posX-=this.incX:this.posX<this.path.posX&&(this.posX+=this.incX),this.posY<this.path.posY?this.posY+=this.incY:this.posY>this.path.posY&&(this.posY-=this.incY)}finished(){return this.posX>cWidth-1||this.posX<1||(this.posY>cHeight-1||this.posY<1)}}for(let t=0;t<7;t++)particles.push(new Particle(t));function move(){ctx.clearRect(0,0,cWidth,cHeight),particles.forEach(t=>{ctx.beginPath(),ctx.fillStyle=t.color,ctx.arc(t.posX,t.posY,t.size,0,2*Math.PI),ctx.closePath(),ctx.fill(),t.setNextPos(),t.finished()&&(particles[t.id]=new Particle(t.id))})}setInterval(move,1);